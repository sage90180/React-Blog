{"version":3,"sources":["contexts.js","utils.js","components/Header/Header.js","WebAPI.js","pages/HomePage/HomePage.js","pages/LoginPage/LoginPage.js","pages/AddPostPage/AddPostPage.js","pages/PostPage/PostPage.js","pages/AboutPage/AboutPage.js","pages/SignUpPage/SignUpPage.js","components/App/App.js","constants/globalStyle.js","index.js"],"names":["AuthContext","createContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","handleInputFocus","setError","setLoading","HeaderWrap","styled","div","HeaderContainer","LeftConntainer","Brand","NavbarList","Nav","Link","props","$active","Header","location","useLocation","pathname","history","useHistory","useContext","user","setUser","isLoading","to","nickname","onClick","push","Base_URL","getMe","fetch","headers","authorization","then","res","json","Root","PostContainer","PostTitle","PostDate","ErrorMessage","PageContainer","PageLink","Post","post","id","title","Date","createdAt","toLocaleString","HomePage","useState","posts","setPosts","apiErrorMessage","setApiErrorMessage","page","setPage","totalPages","setTotalPages","pageArr","Array","from","length","_","index","useEffect","getPosts","catch","err","console","log","Math","ceil","number","toString","map","prototype","PropTypes","object","Form","form","InputGroup","Button","button","LoginPgae","setIsLoading","username","setUsername","password","setPassword","errorMessage","setErrorMessaged","onSubmit","e","preventDefault","method","body","JSON","stringify","login","data","ok","message","value","onChange","target","onFocus","type","TitleGroup","CotentGroup","NewPostPage","setTitle","setBody","addPost","rows","PostWrap","PostTitile","CreatedAt","PostContent","goBack","PostPage","useParams","setPost","getPost","AboutWrap","Thumbnail","AboutPage","SignUpPage","setNickname","signUp","Loading","App","Provider","exact","path","ResetStyle","createGlobalStyle","GlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ea6e7493.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\n","const TOKEN_NAME = \"token\";\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n\nexport const handleInputFocus = (setError, setLoading) => {\n  setLoading(false);\n  return setError(null);\n};\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { AuthContext } from \"../../contexts\";\nimport { setAuthToken } from \"../../utils\";\n\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\n\nconst HeaderWrap = styled.div`\n  background: black;\n`;\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  background: black;\n  color: white;\n  max-width: 1200px;\n  margin: auto;\n  flex-wrap: wrap;\n`;\n\nconst LeftConntainer = styled.div`\n  display: flex;\n`;\nconst Brand = styled.div`\n  font-size: 30px;\n  font-weight: 900;\n  margin: 10px 10px 10px 0px;\n  color: #ff7601;\n  font-family: \"Permanent Marker\", cursive;\n`;\nconst NavbarList = styled.div`\n  display: flex;\n  margin-left: auto;\n`;\nconst Nav = styled(Link)`\n  display: flex;\n  align-items: center;\n  padding: 5px 10px;\n  margin: 10px 5px;\n  cursor: pointer;\n  border: solid 1px black;\n  transition: 0.3s;\n  color: white;\n  text-directiom: none;\n  white-space: nowrap;\n  &:hover {\n    border: solid 1px white;\n  }\n  ${(props) =>\n    props.$active &&\n    `\n    border: solid 1px white;\n  `}\n`;\n\nexport default function Header() {\n  const location = useLocation().pathname;\n  const history = useHistory();\n  const { user, setUser, isLoading } = useContext(AuthContext);\n\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setUser(null);\n    if (location.pathname !== \"/\") {\n      history.push(\"/\");\n    }\n  };\n\n  return (\n    <HeaderWrap>\n      <HeaderContainer>\n        <LeftConntainer>\n          <Brand>HiHi React</Brand>\n          <NavbarList>\n            <Nav to=\"/\" $active={location === \"/\"}>\n              首頁\n            </Nav>\n            <Nav to=\"/about\" $active={location === \"/about\"}>\n              有關於我\n            </Nav>\n            {user && (\n              <Nav to=\"/new-post\" $active={location === \"/new-post\"}>\n                發布文章\n              </Nav>\n            )}\n          </NavbarList>\n        </LeftConntainer>\n        {isLoading ? null : (\n          <NavbarList>\n            {!user && (\n              <Nav to=\"/sign-up\" $active={location === \"/sign-up\"}>\n                註冊\n              </Nav>\n            )}\n            {!user && (\n              <Nav to=\"/login\" $active={location === \"/login\"}>\n                登入\n              </Nav>\n            )}\n            {user && <Nav>你好！{user.nickname}</Nav>}\n            {user && <Nav onClick={handleLogout}>登出</Nav>}\n          </NavbarList>\n        )}\n      </HeaderContainer>\n    </HeaderWrap>\n  );\n}\n","import { getAuthToken } from \"./utils\";\nconst Base_URL = \"https://student-json-api.lidemy.me\";\n\nexport const getPosts = (page) => {\n  return fetch(\n    `${Base_URL}/posts?_page=${page}&_limit=5&_sort=id&_order=desc`\n  ).then((res) => res.json());\n};\n\nexport const getPost = (id) => {\n  return fetch(`${Base_URL}/posts?id=${id}`).then((res) => res.json());\n};\n\nexport const login = (username, password) => {\n  return fetch(`${Base_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${Base_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const addPost = (title, body) => {\n  const token = getAuthToken();\n  return fetch(`${Base_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n      authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const signUp = (nickname, username, password) => {\n  return fetch(`${Base_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getTotalPages = () => {\n  return fetch(`${Base_URL}/posts`)\n    .then((res) => res.json())\n    .then((posts) => Math.ceil(posts.length / 5));\n};\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\n\nimport { Link } from \"react-router-dom\";\nimport { getPosts, getTotalPages } from \"../../WebAPI\";\n\nconst Root = styled.div`\n  padding: 20px 10px;\n`;\nconst PostContainer = styled(Link)`\n  max-width: 1200px;\n  margin: 0px auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px 15px;\n  border: solid 2px #888;\n  border-radius: 50px;\n  margin-bottom: 15px;\n  box-shadow: 5px 5px 0px #ccc;\n  &:hover {\n    transform: translateX(-15px);\n    box-shadow: 5px 5px 0px #888;\n  }\n`;\nconst PostTitle = styled.div`\n  font-size: 20px;\n  color: #444;\n  font-weight: 900;\n  text-directiom: none;\n`;\nconst PostDate = styled.div`\n  color: #444;\n  font-weight: 900;\n`;\n\nconst ErrorMessage = styled.div`\n  color: #f95757;\n  font-size: 25px;\n  text-align: center;\n  font-weight: 900;\n  line-height: 30px;\n`;\n\nconst PageContainer = styled.div`\n  display: flex;\n  margin-top: 40px;\n  justify-content: center;\n`;\nconst PageLink = styled(Link)`\n  border: solid 2px #888;\n  background: white;\n  padding: 10px;\n  font-size: 25px;\n  font-weight: 900;\n  padding: 7px 15px;\n  box-shadow: 5px 5px 0px #ccc;\n  color: #888;\n  display: block;\n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: 0px 5px 0px #888;\n  }\n  &:first-child {\n    border-radius: 10px 0px 0px 10px;\n  }\n  &:last-child {\n    border-radius: 0px 10px 10px 0px;\n  }\n`;\n\nfunction Post({ post }) {\n  return (\n    <PostContainer to={`/posts/${post.id}`}>\n      <PostTitle>{post.title}</PostTitle>\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n    </PostContainer>\n  );\n}\n\nPost.prototype = {\n  post: PropTypes.object,\n};\n\nexport default function HomePage() {\n  const [posts, setPosts] = useState([]);\n  const [apiErrorMessage, setApiErrorMessage] = useState(null);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(null);\n\n  const pageArr = Array.from({ length: totalPages }, (_, index) => index + 1);\n\n  useEffect(() => {\n    getPosts(page)\n      .then((posts) => setPosts(posts))\n      .catch((err) => {\n        console.log(err);\n        setApiErrorMessage(err);\n      });\n    getTotalPages().then((number) => setTotalPages(number));\n  }, [page]);\n\n  return (\n    <Root>\n      {apiErrorMessage && (\n        <ErrorMessage>\n          載入失敗...<br></br>\n          {apiErrorMessage.toString()}\n        </ErrorMessage>\n      )}\n      {posts.map((post) => (\n        <Post post={post} key={post.id} />\n      ))}\n      <PageContainer>\n        {pageArr.map((page) => (\n          <PageLink key={page} onClick={() => setPage(page)}>\n            {page}\n          </PageLink>\n        ))}\n      </PageContainer>\n    </Root>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { login, getMe } from \"../../WebAPI\";\nimport { setAuthToken, handleInputFocus } from \"../../utils\";\nimport { AuthContext } from \"../../contexts\";\nimport { useHistory } from \"react-router-dom\";\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\nconst Form = styled.form`\n  text-align: center;\n  margin-top: 50px;\n`;\nconst InputGroup = styled.div`\n  font-size: 20px;\n  font-weight: 900;\n  color: #333;\n  margin-bottom: 15px;\n  input {\n    margin-left: 10px;\n    border-radius: 20px;\n    padding: 5px 10px;\n    font-size: 20px;\n    border: solid 2px #888;\n    box-shadow: 5px 5px 0px #ccc;\n    background: white;\n  }\n`;\nconst Button = styled.button`\n  border: solid 2px #888;\n  border-radius: 30px;\n  padding: 5px 10px;\n  box-shadow: 5px 5px 0px #ccc;\n  width: 100px;\n  text-align: center;\n  margin: 20px auto;\n  cursor: pointer;\n  font-size: 18px;\n  &:hover {\n    transform: translateX(10px);\n    box-shadow: 5px 5px 0px #888;\n  }\n`;\n\nexport default function LoginPgae() {\n  const { setUser, isLoading, setIsLoading } = useContext(AuthContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessaged] = useState();\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    setErrorMessaged(null);\n    login(username, password)\n      .then((data) => {\n        if (data.ok === 0) {\n          return setErrorMessaged(data.message);\n        }\n        setAuthToken(data.token);\n        getMe().then((res) => {\n          if (res.ok !== 1) {\n            setAuthToken(null);\n            return setErrorMessaged(res.toString());\n          }\n          setIsLoading(false);\n          setUser(res.data);\n          history.push(\"/\");\n        });\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        setErrorMessaged(err.message);\n      });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <InputGroup>\n        帳 號\n        <input\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          onFocus={() => handleInputFocus(setErrorMessaged, setIsLoading)}\n          type=\"text\"\n        />\n      </InputGroup>\n      <InputGroup>\n        密 碼\n        <input\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          onFocus={() => handleInputFocus(setErrorMessaged, setIsLoading)}\n          type=\"password\"\n        />\n      </InputGroup>\n      {errorMessage && <ErrorMessage>錯誤：{errorMessage}</ErrorMessage>}\n      <Button>登 入</Button>\n    </Form>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { AuthContext } from \"../../contexts\";\nimport { addPost } from \"../../WebAPI\";\n\nimport { useHistory } from \"react-router-dom\";\n\nconst Form = styled.form`\n  max-width: 1200px;\n  margin: auto;\n  margin-top: 20px;\n  padding: 10px 30px 30px 30px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst TitleGroup = styled.div`\n  display: flex;\n  font-size: 25px;\n  width: 100%;\n  white-space: nowrap;\n  align-items: center;\n  input {\n    width: 100%;\n    height: 40px;\n    border: solid 2px #888;\n    border-radius: 10px;\n    box-shadow: 7px 7px 0px #ccc;\n    padding: 10px;\n    font-size: 20px;\n  }\n`;\n\nconst CotentGroup = styled.div`\n  display: flex;\n  font-size: 25px;\n  margin-top: 30px;\n  width: 100%;\n  white-space: nowrap;\n  align-items: start;\n  textarea {\n    width: 100%;\n    border: solid 2px #888;\n    border-radius: 10px;\n    box-shadow: 7px 7px 0px #ccc;\n    padding: 10px;\n    font-size: 20px;\n  }\n`;\n\nconst Button = styled.button`\n  border: solid 2px #888;\n  border-radius: 30px;\n  padding: 8px 10px;\n  box-shadow: 5px 5px 0px #ccc;\n  width: 100px;\n  text-align: center;\n  margin: 20px auto;\n  cursor: pointer;\n  font-size: 18px;\n  &:hover {\n    transform: translateX(10px);\n    box-shadow: 5px 5px 0px #888;\n  }\n`;\nconst ErrorMessage = styled.div`\n  color: red;\n  margin-bottom: 20px;\n  text-align: center;\n`;\n\nexport default function NewPostPage() {\n  const { user } = useContext(AuthContext);\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [errorMessage, setErrorMessaged] = useState();\n  const history = useHistory();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!user) {\n      return setErrorMessaged(\"請先登入\");\n    }\n    addPost(title, body).then((res) => {\n      history.push(\"/\");\n    });\n  };\n  return (\n    <Form onSubmit={handleSubmit}>\n      {errorMessage && <ErrorMessage>錯誤：{errorMessage}</ErrorMessage>}\n      <TitleGroup>\n        標 題：\n        <input\n          type=\"text\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n      </TitleGroup>\n      <CotentGroup>\n        內 容：\n        <textarea\n          rows=\"10\"\n          type=\"text\"\n          value={body}\n          onChange={(e) => setBody(e.target.value)}\n        />\n      </CotentGroup>\n      <Button>送 出</Button>\n    </Form>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { getPost } from \"../../WebAPI\";\n\nimport { Link } from \"react-router-dom\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nconst PostWrap = styled.div`\n  max-width: 1200px;\n  margin: auto;\n  border: solid 2px #888;\n  border-radius: 20px;\n  margin-top: 20px;\n  box-shadow: 10px 10px 0px #ccc;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n`;\nconst PostTitile = styled.div`\n  font-weight: 900;\n  font-size: 30px;\n  margin-bottom: 15px;\n`;\n\nconst CreatedAt = styled.div`\n  color: #888;\n  font-weight: bold;\n  padding: 10px 0px;\n  border-bottom: solid 1px #ddd;\n`;\nconst PostContent = styled.div`\n  padding: 15px 0px;\n  border-bottom: solid 1px #ddd;\n  line-height: 26px;\n  color: #333;\n`;\n\nconst Button = styled(Link)`\n  border: solid 2px #888;\n  border-radius: 20px;\n  padding: 8px 10px;\n  box-shadow: 5px 5px 0px #ccc;\n  max-width: 100px;\n  text-align: center;\n  margin-top: 20px;\n  cursor: pointer;\n  &:hover {\n    transform: translateX(-10px);\n    box-shadow: 5px 5px 0px #888;\n  }\n`;\n\nconst Post = ({ post, history }) => {\n  if (!post) return null;\n  return (\n    <PostWrap>\n      <PostTitile>{post.title}</PostTitile>\n      <CreatedAt>{new Date(post.createdAt).toLocaleString()}</CreatedAt>\n      <PostContent>{post.body}</PostContent>\n      <Button onClick={() => history.goBack()}>上一頁</Button>\n    </PostWrap>\n  );\n};\n\nexport default function PostPage() {\n  let history = useHistory();\n  const { id } = useParams();\n  const [post, setPost] = useState(\"\");\n\n  useEffect(() => {\n    getPost(id).then((post) => setPost(post[0]));\n  }, [id]);\n\n  return (\n    <>\n      <Post post={post} history={history} />\n    </>\n  );\n}\n","import styled from \"styled-components\";\n\nconst AboutWrap = styled.div`\n  max-width: 1200px;\n  margin: auto;\n  border: solid 2px #888;\n  border-radius: 20px;\n  margin-top: 20px;\n  box-shadow: 10px 10px 0px #ccc;\n  padding: 20px;\n  display: flex;\n  font-size: 40px;\n  color: #555;\n`;\nconst Thumbnail = styled.div`\n  width: 200px;\n  height: 300px;\n  border: solid 2px #888;\n  margin-right: 20px;\n`;\n\nexport default function AboutPage() {\n  return (\n    <AboutWrap>\n      <Thumbnail />\n      修建中...\n    </AboutWrap>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { signUp, getMe } from \"../../WebAPI\";\nimport { setAuthToken, handleInputFocus } from \"../../utils\";\nimport { AuthContext } from \"../../contexts\";\n\nimport { useHistory } from \"react-router-dom\";\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\nconst Form = styled.form`\n  text-align: center;\n  margin-top: 50px;\n`;\nconst InputGroup = styled.div`\n  font-size: 20px;\n  font-weight: 900;\n  color: #333;\n  margin-bottom: 15px;\n  input {\n    margin-left: 10px;\n    border-radius: 20px;\n    padding: 5px 10px;\n    font-size: 20px;\n    border: solid 2px #888;\n    box-shadow: 5px 5px 0px #ccc;\n    background: white;\n  }\n`;\nconst Button = styled.button`\n  border: solid 2px #888;\n  border-radius: 30px;\n  padding: 5px 10px;\n  box-shadow: 5px 5px 0px #ccc;\n  width: 100px;\n  text-align: center;\n  margin: 20px auto;\n  cursor: pointer;\n  font-size: 18px;\n  &:hover {\n    transform: translateX(10px);\n    box-shadow: 5px 5px 0px #888;\n  }\n`;\n\nexport default function SignUpPage() {\n  const { setUser, isLoading, setIsLoading } = useContext(AuthContext);\n  const [nickname, setNickname] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessaged] = useState();\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    signUp(nickname, username, password)\n      .then((data) => {\n        if (data.ok === 0) {\n          return setErrorMessaged(data.message);\n        }\n        setAuthToken(data.token);\n        getMe().then((res) => {\n          if (res.ok !== 1) {\n            setAuthToken(null);\n            setIsLoading(false);\n            return setErrorMessaged(res.toString());\n          }\n          setUser(res.data);\n          history.push(\"/\");\n        });\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        setErrorMessaged(err.message);\n      });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <InputGroup>\n        暱 稱\n        <input\n          value={nickname}\n          onChange={(e) => setNickname(e.target.value)}\n          onFocus={() => handleInputFocus(setErrorMessaged, setIsLoading)}\n          type=\"text\"\n        />\n      </InputGroup>\n      <InputGroup>\n        帳 號\n        <input\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          onFocus={() => handleInputFocus(setErrorMessaged, setIsLoading)}\n          type=\"text\"\n        />\n      </InputGroup>\n      <InputGroup>\n        密 碼\n        <input\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          onFocus={() => handleInputFocus(setErrorMessaged, setIsLoading)}\n          type=\"password\"\n        />\n      </InputGroup>\n      {errorMessage && <ErrorMessage>錯誤：{errorMessage}</ErrorMessage>}\n      <Button>註 冊</Button>\n    </Form>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Header from \"../Header\";\nimport HomePage from \"../../pages/HomePage\";\nimport LoginPage from \"../../pages/LoginPage\";\nimport AddPostPage from \"../../pages/AddPostPage\";\nimport PostPage from \"../../pages/PostPage\";\nimport AboutPage from \"../../pages/AboutPage\";\nimport SignUpPage from \"../../pages/SignUpPage\";\nimport { AuthContext } from \"../../contexts\";\nimport { getMe } from \"../../WebAPI\";\nimport styled from \"styled-components\";\n\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\nconst Loading = styled.div`\n  font-size: 60px;\n  font-weight: 900;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    getMe().then((res) => {\n      setIsLoading(true);\n      if (res.ok) {\n        setUser(res.data);\n        setIsLoading(false);\n      }\n      setIsLoading(false);\n    });\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, setUser, isLoading, setIsLoading }}>\n      {isLoading && <Loading>Loading...</Loading>}\n      <Router>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\">\n            <HomePage />\n          </Route>\n          <Route path=\"/login\">\n            <LoginPage />\n          </Route>\n          <Route path=\"/new-post\">\n            <AddPostPage />\n          </Route>\n          <Route path=\"/about\">\n            <AboutPage />\n          </Route>\n          <Route path=\"/posts/:id\">\n            <PostPage />\n          </Route>\n          <Route path=\"/sign-up\">\n            <SignUpPage />\n          </Route>\n        </Switch>\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import { createGlobalStyle } from \"styled-components\";\nexport const Yellow = (props) => props.theme.colors.yellow;\nexport const YellowLight = (props) => props.theme.colors.yellowLight;\nexport const Brown = (props) => props.theme.colors.brown;\nexport const Gray = (props) => props.theme.colors.gray;\nexport const ResetStyle = createGlobalStyle`\nhtml, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  box-sizing: border-box;\n}\naddress, caption, cite, code, dfn, em, strong, th, var, b {\n  font-weight: normal;\n  font-style: normal;\n}\nabbr, acronym {\n  border: 0;\n}\narticle, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {\n  display: block;\n}\n*,\n*::after,\n*::before {\n  margin: 0;\n  padding: 0;\n  box-sizing: inherit;\n}\nhtml {\n  text-size-adjust: 100%;\n  box-sizing: border-box;\n}\nbody {\n    line-height: 1;\n}\nol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote {\n  &:before,   &:after {\n    content: '';\n    content: none;\n  }\n}\nq {\n  &:before,   &:after {\n    content: '';\n    content: none;\n  }\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\ncaption, th {\n  text-align: left;\n}\ntextarea {\n  resize: none;\n}\na {\n  text-decoration: none;\n  cursor: pointer;\n}\nbutton {\n  padding: 0;\n  border: none;\n  background: none;\n}\n`;\n\nexport const GlobalStyle = createGlobalStyle`\nhtml {\n  background: white;\n  * {\n    // border: solid 1px black;\n    transition: .3s\n  }\n}\n`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport { ResetStyle, GlobalStyle } from \"./constants/globalStyle\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ResetStyle />\n    <GlobalStyle />\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}